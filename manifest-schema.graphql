scalar String
scalar File
scalar BigInt

type Schema {
  file: File!
}

union DataSource =
  EthereumContractDataSource |
  NearContractDataSource |
  TendermintContractDataSource

union DataSourceTemplate = EthereumContractDataSourceTemplate

type EthereumContractDataSource {
  kind: String!
  name: String!
  network: String
  source: EthereumContractSource!
  mapping: EthereumContractMapping!
}

type NearContractDataSource {
  kind: String!
  name: String!
  network: String
  source: NearContractSource!
  mapping: NearContractMapping!
}

type TendermintContractDataSource {
  kind: String!
  name: String!
  network: String
  source: TendermintContractSource!
  mapping: TendermintContractMapping!
}

type EthereumContractSource {
  address: String
  abi: String!
  startBlock: BigInt
}

type NearContractSource {
  account: String
  startBlock: BigInt
}

type TendermintContractSource {
  account: String
  abi: String
  startBlock: BigInt
}

type EthereumContractMapping {
  kind: String
  apiVersion: String!
  language: String!
  file: File!
  entities: [String!]!
  abis: [EthereumContractAbi!]!
  blockHandlers: [EthereumBlockHandler!]
  callHandlers: [EthereumCallHandler!]
  eventHandlers: [EthereumContractEventHandler!]
}

type NearContractMapping {
  apiVersion: String!
  language: String!
  file: File!
  entities: [String!]!
  blockHandlers: [NearBlockHandler!]
  receiptHandlers: [NearReceiptHandler!]
}

type TendermintContractMapping {
  kind: String
  apiVersion: String!
  language: String!
  file: File!
  entities: [String!]!
  abis: [TendermintContractAbi!]!
  blockHandlers: [TendermintBlockHandler!]
  callHandlers: [TendermintCallHandler!]
  eventHandlers: [TendermintContractEventHandler!]
}

type EthereumContractAbi {
  name: String!
  file: File!
}

type EthereumBlockHandler {
  handler: String!
  filter: EthereumBlockFilter
}

type EthereumBlockFilter {
  kind: String!
}

type NearBlockHandler {
  handler: String!
}

type TendermintBlockHandler {
  handler: String!
}

type EthereumCallHandler {
  function: String!
  handler: String!
}

type TendermintCallHandler {
  function: String!
  handler: String!
}

type NearReceiptHandler {
  handler: String!
}

type EthereumContractEventHandler {
  event: String!
  topic0: String
  handler: String!
}

type TendermintContractEventHandler {
  event: String!
  topic0: String
  handler: String!
}

type Graft {
  base: String!
  block: BigInt!
}

type SubgraphManifest {
  specVersion: String!
  features: [String!]
  schema: Schema!
  description: String
  repository: String
  graft: Graft
  dataSources: [DataSource!]!
  templates: [DataSourceTemplate!]
}

type EthereumContractDataSourceTemplate {
  kind: String!
  name: String!
  network: String
  source: EthereumContractSourceTemplate!
  mapping: EthereumContractMapping!
}

type EthereumContractSourceTemplate {
  abi: String!
}
